import * as defaultOperations from "./operations";
import {
  Query,
  QueryOperators,
  BasicValueQuery,
  ArrayValueQuery,
  ValueQuery,
  NestedQuery,
  ShapeQuery,
  Options,
  createQueryTester,
  EqualsOperation,
  createQueryOperation,
  createEqualsOperation,
<<<<<<< HEAD
  createOperationTester
=======
  createOperationTester,
>>>>>>> 9c894fe759973b7c960545124345526e90c8310b
} from "./core";

const createDefaultQueryOperation = <TItem, TSchema extends TItem = TItem>(
  query: Query<TSchema>,
  ownerQuery: any,
<<<<<<< HEAD
  { compare, operations }: Partial<Options> = {}
) => {
  return createQueryOperation(query, ownerQuery, {
    compare,
    operations: Object.assign({}, defaultOperations, operations || {})
=======
  { compare, operations }: Partial<Options> = {},
) => {
  return createQueryOperation(query, ownerQuery, {
    compare,
    operations: Object.assign({}, defaultOperations, operations || {}),
>>>>>>> 9c894fe759973b7c960545124345526e90c8310b
  });
};

const createDefaultQueryTester = <TItem, TSchema extends TItem = TItem>(
  query: Query<TSchema>,
<<<<<<< HEAD
  options: Partial<Options> = {}
=======
  options: Partial<Options> = {},
>>>>>>> 9c894fe759973b7c960545124345526e90c8310b
) => {
  const op = createDefaultQueryOperation(query, null, options);
  return createOperationTester(op);
};

export {
  Query,
  QueryOperators,
  BasicValueQuery,
  ArrayValueQuery,
  ValueQuery,
  NestedQuery,
  ShapeQuery,
  EqualsOperation,
  createQueryTester,
  createOperationTester,
  createDefaultQueryOperation,
  createEqualsOperation,
<<<<<<< HEAD
  createQueryOperation
=======
  createQueryOperation,
>>>>>>> 9c894fe759973b7c960545124345526e90c8310b
};
export * from "./operations";

export default createDefaultQueryTester;
